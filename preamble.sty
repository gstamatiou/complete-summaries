\usepackage[utf8]{inputenc}
\usepackage[a4paper,headheight=14pt,left=1.5cm,right=1.5cm,top=2cm,bottom=2cm]{geometry}
\usepackage{amsthm, amsmath, mathtools, amssymb} % for math commands
\usepackage{afterpage}
\usepackage{standalone}
\usepackage{etoolbox}
\usepackage{fancyhdr} % for customizing page-style (mainly headings)
\usepackage{chngcntr}
\usepackage{titlesec}
\usepackage[colorlinks,linkcolor=blue,citecolor=blue,urlcolor=blue]{hyperref} % link automatically references
\usepackage[hypcap=false]{caption} % basically for using the command \captionof{}, which is useful in some environments, others than \beging{figure}.
\usepackage{subcaption}
\usepackage{multicol} % organize the whole document in multiple columns.
\usepackage[english]{babel} % for improving use of English and mainly the use of hyphenation.
%\usepackage[version=4]{mhchem} % used only for chemistry.
\usepackage{multirow} % multirow in a table, for example 
\usepackage{array,makecell}
%%%%% tikz images %%%%%%
\usepackage{tikz,tkz-euclide}
%\usetikzlibrary{decorations.pathmorphing,patterns,calc}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{graphicx}
\usepackage{float}
\usepackage[es-ES]{datetime2} % for writing the current date when compiling
\usepackage{xcolor} % to customize RGB colors
\usepackage{physics} % commands of math and physics
%%%% Page-style (heading) %%%%
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\nouppercase{\leftmark}}
\fancyhead[R]{\nouppercase{\rightmark}}
\fancyfoot[C]{\thepage}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setlength{\parindent}{0pt} % Indentation disabled

%%%%%%%% Illustrations %%%%%%%%
\newcommand*\illustration[4]{%Example of usage: \illustartion{0.5}{Imatges/sin.tex}{This is the caption.}{label}
  \par
  \begin{minipage}{\linewidth} 
      \centering
      \includegraphics[width=#1\linewidth]{#2} 
      \captionof{figure}{#3}
      \label{#4}
  \end{minipage}
  \par
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%% Colors %%%%%%%%
\definecolor{lessgreen}{RGB}{0,150,0}
\definecolor{color_blue1}{RGB}{175,175,255}
\definecolor{color_blue2}{RGB}{90,90,255}
\definecolor{color_blue3}{RGB}{0,0,255}
\definecolor{color_green1}{RGB}{150,240,150}
\definecolor{color_green2}{RGB}{50,200,50}
\definecolor{color_green3}{RGB}{0,100,0}
%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%% Title format for subsection %%%%%%
\titleformat{\subsection}[hang]{\normalfont\large\bfseries}{\thesubsection\hspace{6pt}{\textbf{$|$}}\hspace{-6pt}}{1em}{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%% Math-commands %%%%%%%
\newcommand\bigzero{\makebox(0,0){\text{\Huge0}}} % 0 big zero in a matrix
\DeclareMathOperator{\rot}{rot} % divergence
\DeclareMathOperator{\dive}{div} % rotational
\newcommand{\ii}{\text{i}} % imaginary unit
\renewcommand{\exp}[1]{\text{e}^{#1}} % exponential function
\DeclareMathOperator{\lcm}{lcm} % least common multiple
\DeclareMathOperator{\im}{im} % Image of a function
\newcommand{\upint}[2]{\overline{\int_{#1}^{#2}}} % upper integral
\newcommand{\lowint}[2]{\underline{\int_{#1}^{#2}}} % lower integral
\newcommand\quot[2]{
    \mathchoice
        {% \displaystyle 
        \text{\raise1ex\hbox{$#1$}\Big/\lower1ex\hbox{$#2$}}}
        {% \textstyle
            #1\,/\,#2}
        {% \scriptstyle
            #1\,/\,#2}
        {% \scriptscriptstyle  
            #1\,/\,#2}
}% quotient group. Use A/B--->\quot{A}{B}.

\newcommand{\NN}{\ensuremath{\mathbb{N}}} % set of natural numbers
\newcommand{\ZZ}{\ensuremath{\mathbb{Z}}} % set of integers
\newcommand{\QQ}{\ensuremath{\mathbb{Q}}} % set of rationals
\newcommand{\RR}{\ensuremath{\mathbb{R}}} % set of real numbers
\newcommand{\CC}{\ensuremath{\mathbb{C}}} % set of complex numbers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%% for long-vector arrows %%%%%
\newcommand{\vect}[1]{%
  \vbox{\m@th \ialign {##\crcr
  \vectfill\crcr\noalign{\kern-\p@ \nointerlineskip}
  $\hfil\displaystyle{#1}\hfil$\crcr}}}
  \def\vectfill{%
  $\m@th\smash-\mkern-7mu%
  \cleaders\hbox{$\mkern-2mu\smash-\mkern-2mu$}\hfill
  \mkern-7mu\raisebox{-3.66pt}[\p@][\p@]{$\mathord\mathchar"017E$}$}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%% Enumeration-commands %%%%%%%
\renewcommand{\thesubsection}{\arabic{chapter}.\arabic{section}.\arabic{subsection}}
\renewcommand{\labelenumi}{\arabic{enumi}.}
\renewcommand{\labelenumii}{\roman{enumii})}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%% Theorems, definitions,... environments %%%%%
\newtheoremstyle{math}
  {\topsep}   % ABOVESPACE
  {\topsep}   % BELOWSPACE
  {}  % BODYFONT
  {0pt}       % INDENT (empty value is the same as 0pt)
  {\bfseries} % HEADFONT
  {.}         % HEADPUNCT
  {5pt plus 1pt minus 1pt} % HEADSPACE
  {\thmname{#1}\thmnumber{\@ifnotempty{#1}{ }\@upn{#2}}%
    \thmnote{{ \bfseries(#3)}}}          % CUSTOM-HEAD-SPEC
    
\newtheoremstyle{physics}
  {\topsep}   % ABOVESPACE
  {\topsep}   % BELOWSPACE
  {}  % BODYFONT
  {0pt}       % INDENT (empty value is the same as 0pt)
  {\bfseries} % HEADFONT
  {.}         % HEADPUNCT
  {5pt plus 1pt minus 1pt} % HEADSPACE
  {\thmname{#1}\thmnumber{}%
  \thmnote{{ series#3}}}          % CUSTOM-HEAD-SPEC

\theoremstyle{math}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{prop}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{axiom}[theorem]{Axiom}
\newtheorem{definition}[theorem]{Definition}

\theoremstyle{physics}
\newtheorem{concept}{}[section]

\renewcommand\theaxiom{\arabic{section}.\arabic{axiom}}
\renewcommand\thedefinition{\arabic{section}.\arabic{definition}}
\renewcommand\thetheorem{\arabic{section}.\arabic{theorem}}
\renewcommand\thecorollary{\arabic{section}.\arabic{corollary}}
\renewcommand\thelemma{\arabic{section}.\arabic{lemma}}
\renewcommand\theprop{\arabic{section}.\arabic{prop}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%