\documentclass{standalone}
\usepackage{../../../../preamble_tikz}
\usepackage{../../../../preamble_math}

\begin{document}
\begin{tikzpicture}
  \def\X{3}
  \def\Y{2}
  \def\x{1.1423}
  \def\y{1.1423}
  \def\h{-2.783}
  \def\O{6*\x+0.5}
  \begin{axis}[
      name=plot1,
      axis lines=middle,
      x label style={at={(axis description cs:0.97,-0.025)},anchor=north},
      y label style={at={(axis description cs:0.46,0.83)},anchor=south},
      xmin=-\X, xmax=\X,
      ymin=0, ymax=\Y,
      xtick=\empty, ytick=\empty,
      ylabel={$t$},
      xlabel={$x$},
      axis equal image,
      %axis on top,
    ]
    \addplot[thick,samples=10,smooth,color_green2,dashed]{0-3.2666666*(x+1)};
    \addplot[thick,samples=10,smooth,color_green3,dashed]{0+2.77777777*(x)};
    \addplot[thick,samples=10,smooth,color_green4,dashed]{0+1.46221285*(x-2)};

  \end{axis}

  \begin{axis}[
      name=plot2,
      at=(plot1.south),
      anchor=north,
      yshift=-0.5cm,
      axis lines=middle,
      xmin=-\X, xmax=\X,
      ymin=0, ymax=\Y,
      xtick=\empty, ytick=\empty,
      extra y ticks = {0,1.5},
      extra y tick labels={0,$\rho_{\textrm{max}}$},
      ylabel={$\rho(x,0)$},
      xlabel={$x$},
      x label style={at={(axis description cs:0.97,-0.025)},anchor=north},
      y label style={at={(axis description cs:0.41,0.83)},anchor=south},
      axis equal image,
      restrict x to domain=-\X:\X,
      %axis on top,
    ]
    \addplot[thick,samples=400,smooth,blue]{3/2*(rad(atan(-x))/pi+0.5)};
  \end{axis}
  \begin{axis}[scale=0.4,
      name=plot2,
      at=(plot2.east),
      anchor=west,
      xshift=0.5cm,
      axis lines=middle,
      xmin=0, xmax=1,
      ymin=0, ymax=\Y,
      xtick=\empty, ytick=\empty,
      extra y ticks = {0,1.5},
      extra y tick labels={0,$\rho_{\textrm{max}}$},
      ylabel={$\rho(x,0)$},
      xlabel={$q$},
      x label style={at={(axis description cs:0.85,-0.025)},anchor=north},
      y label style={at={(axis description cs:-0.55,0.83)},anchor=south},
      axis equal image,
      restrict x to domain=-\X:\X,
      %x=4cm,
      %axis on top,
    ]
    \addplot[thick,samples=400,smooth,blue,domain=0:1.5]({-(-x+2)-1/(-x+2)+2.5},{x});
    \addplot[thick,samples=10,smooth,color_green2,dashed]{1.125-3.2666666*(x-0.48214285)};
    \addplot[thick,samples=10,smooth,color_green3,dashed]{0.75+2.77777777*(x-0.45)};
    \addplot[thick,samples=10,smooth,color_green4,dashed]{0.2213754+1.46221285*(x-0.15914323)};
  \end{axis}
  \node (10) at ({2*\x},{0})  [shape=circle,draw=color_green2,inner sep=0pt,minimum size=0.1cm,fill=color_green2] {};
  \node (11) at ({2*\x},{\h + 1.125*\y})  [shape=circle,draw=color_green2,inner sep=0pt,minimum size=0.1cm,fill=color_green2] {};
  \node (12) at ({\O+0.48214285*\x},{\h+1.125*\y})  [shape=circle,draw=color_green2,inner sep=0pt,minimum size=0.1cm,fill=color_green2] {};

  \node (20) at ({3*\x},{0})  [shape=circle,draw=color_green3,inner sep=0pt,minimum size=0.1cm,fill=color_green3] {};
  \node (21) at ({3*\x},{\h + 0.75*\y})  [shape=circle,draw=color_green3,inner sep=0pt,minimum size=0.1cm,fill=color_green3] {};
  \node (22) at ({\O+0.45*\x},{\h+0.75*\y})  [shape=circle,draw=color_green3,inner sep=0pt,minimum size=0.1cm,fill=color_green3] {};

  \node (30) at ({5*\x},{0})  [shape=circle,draw=color_green4,inner sep=0pt,minimum size=0.1cm,fill=color_green4] {};
  \node (31) at ({5*\x},{\h + 0.2213754*\y})  [shape=circle,draw=color_green4,inner sep=0pt,minimum size=0.1cm,fill=color_green4] {};
  \node (32) at ({\O+0.15914323*\x},{\h+0.2213754*\y})  [shape=circle,draw=color_green4,inner sep=0pt,minimum size=0.1cm,fill=color_green4] {};

  \draw[color_green2,dotted] (10) -- (11) -- (12);
  \draw[color_green3,dotted] (20) -- (21) -- (22);
  \draw[color_green4,dotted] (30) -- (31) -- (32);
\end{tikzpicture}

\end{document}